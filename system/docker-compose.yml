# Version 2.x is more approriate for our use case.
# See: https://github.com/docker/compose/issues/4513#issuecomment-377311337
version: "2.4"

services:
    memcached:
        image: memcached:1.5.12
        container_name: flap_memcached
        restart: always
        logging:
            driver: ${LOG_DRIVER:-journald}
        networks:
            stores-net:
                aliases: [memcached]

networks:
    apps-net:
        name: flap_apps-net
        ipam:
            config:
                - subnet: 172.30.0.0/24
    stores-net:
        name: flap_stores-net
        internal: true
        ipam:
            config:
                - subnet: 172.31.0.0/24
